<div class="auth-form-container">
  <p-card>
    <div class="text-center">
      <h1>Registro</h1>
      <p>Crear nueva cuenta en el sistema</p>
    </div>
    
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="p-field">
        <label for="nombre">Nombre Completo</label>
        <input 
          pInputText 
          id="nombre" 
          formControlName="nombre" 
          placeholder="Ingresa tu nombre completo"
          [class.ng-invalid]="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched"
        />
        <small 
          class="p-error" 
          *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched"
        >
          El nombre es requerido
        </small>
      </div>
      
      <div class="p-field">
        <label for="email">Correo Electrónico</label>
        <input 
          pInputText 
          id="email" 
          formControlName="email" 
          placeholder="ejemplo@hospital.com"
          [class.ng-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
        />
        <small 
          class="p-error" 
          *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
        >
          El correo electrónico es requerido y debe ser válido
        </small>
      </div>
      
      <div class="p-field">
        <label for="tipo">Tipo de Usuario</label>
        <p-dropdown 
          formControlName="tipo" 
          [options]="tiposUsuario" 
          placeholder="Selecciona el tipo de usuario"
          optionLabel="label" 
          optionValue="value"
        ></p-dropdown>
        <small 
          class="p-error" 
          *ngIf="registerForm.get('tipo')?.invalid && registerForm.get('tipo')?.touched"
        >
          Debes seleccionar un tipo de usuario
        </small>
      </div>
      
      <div class="p-field">
        <label for="password">Contraseña</label>
        <p-password 
          formControlName="password" 
          placeholder="Mínimo 6 caracteres"
          [toggleMask]="true"
          [feedback]="true"
        ></p-password>
        <small 
          class="p-error" 
          *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
        >
          La contraseña debe tener al menos 6 caracteres
        </small>
      </div>
      
      <div class="p-field">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <p-password 
          formControlName="confirmPassword" 
          placeholder="Repite tu contraseña"
          [toggleMask]="true"
          [feedback]="false"
        ></p-password>
        <small 
          class="p-error" 
          *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched"
        >
          Las contraseñas no coinciden
        </small>
      </div>
      
      <div class="p-field">
        <p-button 
          label="Registrarse" 
          type="submit" 
          [disabled]="registerForm.invalid"
          [loading]="isLoading"
        ></p-button>
      </div>
    </form>
    
    <div class="text-center mt-3">
      <p>¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión aquí</a></p>
    </div>
  </p-card>
</div>